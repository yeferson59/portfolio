---
import SectionHeader from "@/components/layouts/SectionHeader.astro";
import PricingCard from "@/components/layouts/PricingCard.astro";
import Card from "@/components/ui/Card.astro";
import Button from "@/components/ui/Button.astro";
import { getAllPricing } from "@/utils/pricing";

const plans = await getAllPricing();
---

<section id="pricing" class="pricing-section">
  <div class="container">
    <SectionHeader
      title="Services & Pricing"
      subtitle="Professional backend solutions tailored to your project's needs."
    />

    <div class="pricing-grid mb-3xl" style="padding-top: var(--space-lg);">
      {
        plans.map(({ data: plan }) => (
          <PricingCard
            name={plan.name}
            subtitle={plan.subtitle}
            price={plan.price}
            period={plan.period}
            description={plan.description}
            features={plan.features}
            cta={plan.cta}
            popular={plan.popular}
          />
        ))
      }
    </div>

    <!-- Bottom CTA -->
    <div class="text-center">
      <Card class="mx-auto max-w-3xl">
        <h3 class="text-primary mb-md text-2xl font-bold">
          Can't find what you need?
        </h3>
        <p class="text-secondary mb-lg leading-relaxed">
          Every project is unique. Let's talk about your specific needs and
          create a custom solution.
        </p>
        <Button href="#contact">
          Let's discuss your project
          <svg
            width="16"
            height="16"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>
        </Button>
      </Card>
    </div>
  </div>
</section>
