---
import SectionHeader from "./SectionHeader.astro";
import Card from "./Card.astro";
import Button from "./Button.astro";

const heading = "Get in touch";
const subtitle =
  "¿Tienes un proyecto interesante? Hablemos sobre arquitectura, APIs o infraestructura.";

const icons = {
  mail: `<svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 4.26a2 2 0 0 0 2.22 0L21 8M5 19h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"/></svg>`,
  map: `<svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657 13.414 20.9a2 2 0 0 1-2.828 0l-4.243-4.243a8 8 0 1 1 11.314 0Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/></svg>`,
  linkedin: `<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.38-1.11 2.5-2.48 2.5S.02 4.88.02 3.5C.02 2.12 1.13 1 2.5 1s2.48 1.12 2.48 2.5ZM.5 8h4.9v13.5H.5V8Zm7.48 0H12.7l.02 1.85h.09c.59-1.07 2.04-2.15 4.2-2.15 4 0 4.98 2.38 4.98 6.53V21.5h-4.9v-6.29c0-1.5-.03-3.44-2.18-3.44-2.18 0-2.51 1.63-2.51 3.32v6.41H7.98V8Z"/></svg>`,
  code: `<svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m7 8-4 4 4 4m10-8 4 4-4 4m-6 6 2-20"/></svg>`,
};

type IconKey = keyof typeof icons;

const contactMethods: {
  label: string;
  value: string;
  action: string;
  icon: IconKey;
  variant: "primary" | "secondary";
}[] = [
  {
    label: "Email",
    value: "tuemail@ejemplo.com",
    action: "mailto:tuemail@ejemplo.com",
    icon: "mail",
    variant: "primary",
  },
  {
    label: "Ubicación",
    value: "Ciudad, País",
    action: "#",
    icon: "map",
    variant: "secondary",
  },
  {
    label: "LinkedIn",
    value: "Conectemos profesionalmente",
    action: "#",
    icon: "linkedin",
    variant: "primary",
  },
  {
    label: "GitHub",
    value: "Explora mis repositorios",
    action: "#",
    icon: "code",
    variant: "secondary",
  },
];
---

<section id="contact">
  <div class="container">
    <SectionHeader title={heading} subtitle={subtitle} />

    <div class="contact-grid">
      <!-- Contact Methods -->
      <div class="space-y-xl">
        {
          contactMethods.map((method) => (
            <Card>
              <div class="flex items-start gap-y-6">
                <div class={`icon icon--${method.variant} flex-shrink-0`}>
                  <span set:html={icons[method.icon]} />
                </div>

                <div class="flex-1">
                  <h3 class="text-primary mb-xs text-lg font-bold">
                    {method.label}
                  </h3>
                  <p class="text-secondary mb-md leading-relaxed">
                    {method.value}
                  </p>
                  <Button
                    variant={method.variant}
                    size="sm"
                    href={method.action}
                  >
                    Contactar
                    <svg
                      width="16"
                      height="16"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M13 7l5 5m0 0l-5 5m5-5H6"
                      />
                    </svg>
                  </Button>
                </div>
              </div>
            </Card>
          ))
        }
      </div>

      <!-- Contact Form -->
      <Card>
        <div class="mb-lg">
          <h3 class="text-primary mb-sm text-2xl font-bold">
            Envíame un mensaje
          </h3>
          <p class="text-secondary leading-relaxed">
            Describe tu proyecto brevemente y te responderé en menos de 24h.
          </p>
        </div>

        <form class="space-y-lg">
          <div class="gap-md grid grid-cols-1 md:grid-cols-2">
            <div class="form-group">
              <label for="name" class="form-label">Nombre</label>
              <input
                id="name"
                name="name"
                type="text"
                required
                placeholder="Tu nombre"
                class="form-input"
              />
            </div>
            <div class="form-group">
              <label for="email" class="form-label">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                required
                placeholder="tu@email.com"
                class="form-input"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="subject" class="form-label">Asunto</label>
            <input
              id="subject"
              name="subject"
              type="text"
              required
              placeholder="¿Sobre qué quieres hablar?"
              class="form-input"
            />
          </div>

          <div class="form-group">
            <label for="message" class="form-label">Mensaje</label>
            <textarea
              id="message"
              name="message"
              rows="6"
              required
              placeholder="Cuéntame sobre tu proyecto..."
              class="form-input form-textarea"></textarea>
          </div>

          <div
            class="gap-md flex flex-col items-start justify-between sm:flex-row sm:items-center"
          >
            <p class="text-secondary max-w-xs text-sm leading-relaxed">
              Al enviar aceptas que pueda contactarte. No envío spam.
            </p>
            <Button type="submit" size="lg">
              Enviar mensaje
              <svg
                width="20"
                height="20"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M5 12h14M13 6l6 6-6 6"></path>
              </svg>
            </Button>
          </div>
        </form>
      </Card>
    </div>
  </div>
</section>
