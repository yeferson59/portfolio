---
import Badge from "@/components/ui/Badge.astro";
import Button from "@/components/ui/Button.astro";
import FeatureList from "@/components/ui/FeatureList.astro";

interface Props {
  name: string;
  subtitle: string;
  price: string;
  period?: string;
  description: string;
  features: string[];
  cta: string;
  popular?: boolean;
  href?: string;
}

const {
  name,
  subtitle,
  price,
  period,
  description,
  features,
  cta,
  popular = false,
  href = "#contact",
} = Astro.props;
---

<div class={`card pricing-card ${popular ? "pricing-card--popular" : ""}`}>
  {
    popular && (
      <div class="pricing-card__badge">
        <Badge variant="primary">✨ Más Popular</Badge>
      </div>
    )
  }

  <!-- Plan Header -->
  <div class="pricing-card__header">
    <Badge variant={popular ? "primary" : "secondary"} class="mb-md">
      {subtitle}
    </Badge>

    <h3 class="pricing-card__title">{name}</h3>

    <div class="pricing-card__price">
      <div class="pricing-card__price-amount">{price}</div>
      {period && <div class="pricing-card__price-period">{period}</div>}
    </div>

    <p class="pricing-card__description">{description}</p>
  </div>

  <!-- Features -->
  <FeatureList title="Incluye:" features={features} />

  <!-- CTA Button -->
  <div class="pricing-card__cta">
    <Button variant={popular ? "primary" : "secondary"} fullWidth href={href}>
      {cta}
    </Button>
  </div>
</div>
