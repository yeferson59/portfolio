---
// Componente de encabezado elegante y estable para el portfolio de backend
const title = "Backend Developer";
const subtitle = "Portfolio";
---

<header class="fixed top-0 left-0 right-0 z-50 p-6">
  <div class="header-wrapper w-full max-w-6xl mx-auto">
    <div
      class="header-container relative backdrop-blur-lg border border-white/30 rounded-2xl shadow-lg mx-auto max-w-4xl overflow-hidden"
      style="background: linear-gradient(135deg, rgba(11, 15, 22, 0.95), rgba(14, 20, 27, 0.9)); width: 100%; max-width: 1024px;"
    >
      <nav class="flex justify-between items-center px-6 py-4">
        <!-- Logo/Brand -->
        <div class="flex items-center gap-3 flex-shrink-0">
          <div
            class="w-10 h-10 rounded-xl flex items-center justify-center shadow-md"
            style="background: var(--accent-gradient);"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6 text-white"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
            </svg>
          </div>
          <div class="hidden sm:block">
            <h1 class="text-lg font-bold text-primary leading-none">{title}</h1>
            <p class="text-xs text-secondary font-medium">{subtitle}</p>
          </div>
        </div>

        <!-- Desktop Navigation -->
        <ul class="hidden md:flex items-center space-x-2">
          <li>
            <a
              href="#about"
              class="nav-link px-4 py-2 rounded-xl text-sm font-semibold text-secondary hover:text-primary transition-all duration-300"
            >
              About
            </a>
          </li>
          <li>
            <a
              href="#skills"
              class="nav-link px-4 py-2 rounded-xl text-sm font-semibold text-secondary hover:text-primary transition-all duration-300"
            >
              Skills
            </a>
          </li>
          <li>
            <a
              href="#projects"
              class="nav-link px-4 py-2 rounded-xl text-sm font-semibold text-secondary hover:text-primary transition-all duration-300"
            >
              Projects
            </a>
          </li>
          <li>
            <a
              href="#pricing"
              class="nav-link px-4 py-2 rounded-xl text-sm font-semibold text-secondary hover:text-primary transition-all duration-300"
            >
              Pricing
            </a>
          </li>
          <li>
            <a
              href="#contact"
              class="nav-link px-4 py-2 rounded-xl text-sm font-semibold text-secondary hover:text-primary transition-all duration-300"
            >
              Contact
            </a>
          </li>
        </ul>

        <!-- Mobile menu button -->
        <button
          id="mobile-menu-btn"
          class="md:hidden w-10 h-10 rounded-lg flex items-center justify-center text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300 relative"
          aria-label="Menu"
        >
          <svg
            id="hamburger-icon"
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 transition-all duration-300"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg
            id="close-icon"
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 rotate-90 transition-all duration-300"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </nav>

      <!-- Mobile menu -->
      <div
        id="mobile-menu"
        class="md:hidden absolute top-full left-0 right-0 mt-4 opacity-0 invisible transition-all duration-300 transform translate-y-[-10px]"
      >
        <div
          class="backdrop-blur-lg border border-white/30 rounded-2xl shadow-lg mx-4 overflow-hidden"
          style="background: linear-gradient(135deg, rgba(11, 15, 22, 0.95), rgba(14, 20, 27, 0.9));"
        >
          <ul class="py-4">
            <li>
              <a
                href="#about"
                class="mobile-nav-link block px-6 py-4 text-base font-semibold text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300 border-b border-white/10"
              >
                <span class="flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                  About
                </span>
              </a>
            </li>
            <li>
              <a
                href="#skills"
                class="mobile-nav-link block px-6 py-4 text-base font-semibold text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300 border-b border-white/10"
              >
                <span class="flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-green-500"></div>
                  Skills
                </span>
              </a>
            </li>
            <li>
              <a
                href="#projects"
                class="mobile-nav-link block px-6 py-4 text-base font-semibold text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300 border-b border-white/10"
              >
                <span class="flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                  Projects
                </span>
              </a>
            </li>
            <li>
              <a
                href="#pricing"
                class="mobile-nav-link block px-6 py-4 text-base font-semibold text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300 border-b border-white/10"
              >
                <span class="flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-green-500"></div>
                  Pricing
                </span>
              </a>
            </li>
            <li>
              <a
                href="#contact"
                class="mobile-nav-link block px-6 py-4 text-base font-semibold text-secondary hover:text-primary hover:bg-white/10 transition-all duration-300"
              >
                <span class="flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                  Contact
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* Header base styles */
    .header-container {
      box-shadow: 0 8px 32px rgba(2, 6, 23, 0.3);
    }

    /* Desktop navigation hover effects */
    .nav-link {
      position: relative;
    }

    .nav-link:hover {
      background: linear-gradient(
        135deg,
        rgba(42, 143, 255, 0.1),
        rgba(34, 176, 126, 0.1)
      );
      color: var(--text-primary);
    }

    /* Mobile menu animations */
    #mobile-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    /* Mobile button states */
    #mobile-menu-btn.active #hamburger-icon {
      opacity: 0;
      transform: rotate(-90deg);
    }

    #mobile-menu-btn.active #close-icon {
      opacity: 1;
      transform: translate(-50%, -50%) rotate(0deg);
    }

    /* Mobile nav links */
    .mobile-nav-link {
      position: relative;
    }

    .mobile-nav-link:hover {
      background: linear-gradient(90deg, rgba(42, 143, 255, 0.1), transparent);
    }

    /* Smooth scroll behavior */
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 120px;
    }

    /* Header animation on load */
    header {
      animation: fadeIn 0.6s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Responsive improvements */
    @media (max-width: 768px) {
      header {
        padding: 1rem;
      }

      .header-container {
        max-width: calc(100vw - 2rem);
      }
    }

    /* Ensure header stays above other content and is always visible */
    header {
      z-index: 9999 !important;
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      width: 100vw !important;
      transform: none !important;
      will-change: auto;
      contain: none;
    }

    /* Header wrapper for stability */
    .header-wrapper {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 1.5rem;
    }

    /* Prevent header from jumping */
    .header-container {
      min-height: 72px;
      overflow: hidden;
      position: relative;
      display: block;
      margin: 0 auto;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");

      if (mobileMenuBtn && mobileMenu) {
        // Toggle mobile menu
        mobileMenuBtn.addEventListener("click", function (e) {
          e.preventDefault();
          e.stopPropagation();
          mobileMenuBtn.classList.toggle("active");
          mobileMenu.classList.toggle("show");
        });

        // Close mobile menu when clicking on nav links
        mobileNavLinks.forEach((link) => {
          link.addEventListener("click", function () {
            setTimeout(() => {
              mobileMenuBtn.classList.remove("active");
              mobileMenu.classList.remove("show");
            }, 150);
          });
        });

        // Close mobile menu when clicking outside
        document.addEventListener("click", function (event) {
          if (
            !mobileMenuBtn.contains(event.target as Node) &&
            !mobileMenu.contains(event.target as Node)
          ) {
            mobileMenuBtn.classList.remove("active");
            mobileMenu.classList.remove("show");
          }
        });

        // Close mobile menu on escape key
        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") {
            mobileMenuBtn.classList.remove("active");
            mobileMenu.classList.remove("show");
          }
        });
      }

      // Smooth scroll for all navigation links
      const navLinks = document.querySelectorAll('a[href^="#"]');
      navLinks.forEach((link) => {
        link.addEventListener("click", function (e) {
          e.preventDefault();
          const target = link.getAttribute("href");
          let element = null;
          if (target && target.startsWith("#") && target.length > 1) {
            element = document.querySelector(target);
          }

          if (element instanceof HTMLElement) {
            const headerHeight = 80;
            const targetPosition = element.offsetTop - headerHeight;

            window.scrollTo({
              top: targetPosition,
              left: 0,
              behavior: "smooth",
            });

            // Update URL
            history.pushState(null, "", target);
          }
        });
      });
    });
  </script>
</header>
